{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\RP-MSI\\\\Documents\\\\ReactCourse\\\\react-lessons\\\\13062023\\\\src\\\\components\\\\products\\\\AddOrUpdateProduct.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getCategories } from \"../../redux/actions/categoryActions\";\nimport { saveProduct } from \"../../redux/actions/productActions\";\nimport ProductDetail from \"./ProductDetail\";\nfunction AddOrUpdateProduct(_ref) {\n  _s();\n  let {\n    products,\n    categories,\n    getProducts,\n    getCategories,\n    saveProduct,\n    history,\n    ...props\n  } = _ref;\n  const [product, setProduct] = useState({\n    ...props.product\n  });\n  const [errors, setErrors] = useState({});\n  useEffect(() => {\n    if (categories.length === 0) {\n      getCategories();\n    }\n    setProduct({\n      ...props.product\n    });\n  }, [props.product]);\n  function handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setProduct(previousProduct => ({\n      ...previousProduct,\n      [name]: name === \"categoryId\" ? parseInt(value, 10) : value\n    }));\n    validate(name, value);\n  }\n  function validate(name, value) {\n    if (name === \"productName\" && value === \"\") {\n      setErrors(previousErrors => ({\n        ...previousErrors,\n        productName: \"Ürün ismi olmalıdır\"\n      }));\n    } else {\n      setErrors(previousErrors => ({\n        ...previousErrors,\n        productName: \"\"\n      }));\n    }\n  }\n  function handleSave(event) {\n    event.preventDefault();\n    saveProduct(product).then(() => {\n      history.push(\"/\");\n    });\n  }\n  return /*#__PURE__*/React.createElement(ProductDetail, {\n    product: product,\n    categories: categories,\n    onChange: handleChange,\n    onSave: handleSave,\n    errors: errors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  });\n}\n_s(AddOrUpdateProduct, \"Grqf3KpSZNFB5j6kg12u/vvRo5w=\");\n_c = AddOrUpdateProduct;\nexport function getProductById(products, productId) {\n  let product = products.find(product => product.id == productId) || null;\n  return product;\n}\nfunction mapStateToProps(state, ownProps) {\n  const productId = ownProps.match.params.productId;\n  const product = productId && state.productListReducer.length > 0 ? getProductById(state.productListReducer, productId) : {};\n  return {\n    product,\n    products: state.productListReducer,\n    categories: state.categoryListReducer\n  };\n}\nconst mapDispatchToProps = {\n  getCategories,\n  saveProduct\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(AddOrUpdateProduct);\nvar _c;\n$RefreshReg$(_c, \"AddOrUpdateProduct\");","map":{"version":3,"names":["React","useEffect","useState","connect","getCategories","saveProduct","ProductDetail","AddOrUpdateProduct","_ref","_s","products","categories","getProducts","history","props","product","setProduct","errors","setErrors","length","handleChange","event","name","value","target","previousProduct","parseInt","validate","previousErrors","productName","handleSave","preventDefault","then","push","createElement","onChange","onSave","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","_c","getProductById","productId","find","id","mapStateToProps","state","ownProps","match","params","productListReducer","categoryListReducer","mapDispatchToProps","$RefreshReg$"],"sources":["C:/Users/RP-MSI/Documents/ReactCourse/react-lessons/13062023/src/components/products/AddOrUpdateProduct.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getCategories } from \"../../redux/actions/categoryActions\";\r\nimport { saveProduct } from \"../../redux/actions/productActions\";\r\nimport ProductDetail from \"./ProductDetail\";\r\n\r\nfunction AddOrUpdateProduct({\r\n  products,\r\n  categories,\r\n  getProducts,\r\n  getCategories,\r\n  saveProduct,\r\n  history,\r\n  ...props\r\n}) {\r\n  const [product, setProduct] = useState({ ...props.product });\r\n  const [errors, setErrors] = useState({});\r\n  useEffect(() => {\r\n    if (categories.length === 0) {\r\n      getCategories();\r\n    }\r\n    setProduct({ ...props.product });\r\n  }, [props.product]);\r\n\r\n  function handleChange(event) {\r\n    const { name, value } = event.target;\r\n    setProduct((previousProduct) => ({\r\n      ...previousProduct,\r\n      [name]: name === \"categoryId\" ? parseInt(value, 10) : value,\r\n    }));\r\n\r\n    validate(name, value);\r\n  }\r\n\r\n  function validate(name, value) {\r\n    if (name === \"productName\" && value === \"\") {\r\n      setErrors((previousErrors) => ({\r\n        ...previousErrors,\r\n        productName: \"Ürün ismi olmalıdır\",\r\n      }));\r\n    } else {\r\n      setErrors((previousErrors) => ({\r\n        ...previousErrors,\r\n        productName: \"\",\r\n      }));\r\n    }\r\n  }\r\n\r\n  function handleSave(event) {\r\n    event.preventDefault();\r\n    saveProduct(product).then(() => {\r\n      history.push(\"/\");\r\n    });\r\n  }\r\n\r\n  return (\r\n    <ProductDetail\r\n      product={product}\r\n      categories={categories}\r\n      onChange={handleChange}\r\n      onSave={handleSave}\r\n      errors={errors}\r\n    />\r\n  );\r\n}\r\n\r\nexport function getProductById(products, productId) {\r\n  let product = products.find((product) => product.id == productId) || null;\r\n  return product;\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n  const productId = ownProps.match.params.productId;\r\n  const product =\r\n    productId && state.productListReducer.length > 0\r\n      ? getProductById(state.productListReducer, productId)\r\n      : {};\r\n  return {\r\n    product,\r\n    products: state.productListReducer,\r\n    categories: state.categoryListReducer,\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  getCategories,\r\n  saveProduct,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddOrUpdateProduct);\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,aAAa,QAAQ,qCAAqC;AACnE,SAASC,WAAW,QAAQ,oCAAoC;AAChE,OAAOC,aAAa,MAAM,iBAAiB;AAE3C,SAASC,kBAAkBA,CAAAC,IAAA,EAQxB;EAAAC,EAAA;EAAA,IARyB;IAC1BC,QAAQ;IACRC,UAAU;IACVC,WAAW;IACXR,aAAa;IACbC,WAAW;IACXQ,OAAO;IACP,GAAGC;EACL,CAAC,GAAAN,IAAA;EACC,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC;IAAE,GAAGY,KAAK,CAACC;EAAQ,CAAC,CAAC;EAC5D,MAAM,CAACE,MAAM,EAAEC,SAAS,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxCD,SAAS,CAAC,MAAM;IACd,IAAIU,UAAU,CAACQ,MAAM,KAAK,CAAC,EAAE;MAC3Bf,aAAa,CAAC,CAAC;IACjB;IACAY,UAAU,CAAC;MAAE,GAAGF,KAAK,CAACC;IAAQ,CAAC,CAAC;EAClC,CAAC,EAAE,CAACD,KAAK,CAACC,OAAO,CAAC,CAAC;EAEnB,SAASK,YAAYA,CAACC,KAAK,EAAE;IAC3B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,KAAK,CAACG,MAAM;IACpCR,UAAU,CAAES,eAAe,KAAM;MAC/B,GAAGA,eAAe;MAClB,CAACH,IAAI,GAAGA,IAAI,KAAK,YAAY,GAAGI,QAAQ,CAACH,KAAK,EAAE,EAAE,CAAC,GAAGA;IACxD,CAAC,CAAC,CAAC;IAEHI,QAAQ,CAACL,IAAI,EAAEC,KAAK,CAAC;EACvB;EAEA,SAASI,QAAQA,CAACL,IAAI,EAAEC,KAAK,EAAE;IAC7B,IAAID,IAAI,KAAK,aAAa,IAAIC,KAAK,KAAK,EAAE,EAAE;MAC1CL,SAAS,CAAEU,cAAc,KAAM;QAC7B,GAAGA,cAAc;QACjBC,WAAW,EAAE;MACf,CAAC,CAAC,CAAC;IACL,CAAC,MAAM;MACLX,SAAS,CAAEU,cAAc,KAAM;QAC7B,GAAGA,cAAc;QACjBC,WAAW,EAAE;MACf,CAAC,CAAC,CAAC;IACL;EACF;EAEA,SAASC,UAAUA,CAACT,KAAK,EAAE;IACzBA,KAAK,CAACU,cAAc,CAAC,CAAC;IACtB1B,WAAW,CAACU,OAAO,CAAC,CAACiB,IAAI,CAAC,MAAM;MAC9BnB,OAAO,CAACoB,IAAI,CAAC,GAAG,CAAC;IACnB,CAAC,CAAC;EACJ;EAEA,oBACEjC,KAAA,CAAAkC,aAAA,CAAC5B,aAAa;IACZS,OAAO,EAAEA,OAAQ;IACjBJ,UAAU,EAAEA,UAAW;IACvBwB,QAAQ,EAAEf,YAAa;IACvBgB,MAAM,EAAEN,UAAW;IACnBb,MAAM,EAAEA,MAAO;IAAAoB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAChB,CAAC;AAEN;AAACjC,EAAA,CA1DQF,kBAAkB;AAAAoC,EAAA,GAAlBpC,kBAAkB;AA4D3B,OAAO,SAASqC,cAAcA,CAAClC,QAAQ,EAAEmC,SAAS,EAAE;EAClD,IAAI9B,OAAO,GAAGL,QAAQ,CAACoC,IAAI,CAAE/B,OAAO,IAAKA,OAAO,CAACgC,EAAE,IAAIF,SAAS,CAAC,IAAI,IAAI;EACzE,OAAO9B,OAAO;AAChB;AAEA,SAASiC,eAAeA,CAACC,KAAK,EAAEC,QAAQ,EAAE;EACxC,MAAML,SAAS,GAAGK,QAAQ,CAACC,KAAK,CAACC,MAAM,CAACP,SAAS;EACjD,MAAM9B,OAAO,GACX8B,SAAS,IAAII,KAAK,CAACI,kBAAkB,CAAClC,MAAM,GAAG,CAAC,GAC5CyB,cAAc,CAACK,KAAK,CAACI,kBAAkB,EAAER,SAAS,CAAC,GACnD,CAAC,CAAC;EACR,OAAO;IACL9B,OAAO;IACPL,QAAQ,EAAEuC,KAAK,CAACI,kBAAkB;IAClC1C,UAAU,EAAEsC,KAAK,CAACK;EACpB,CAAC;AACH;AAEA,MAAMC,kBAAkB,GAAG;EACzBnD,aAAa;EACbC;AACF,CAAC;AAED,eAAeF,OAAO,CAAC6C,eAAe,EAAEO,kBAAkB,CAAC,CAAChD,kBAAkB,CAAC;AAAC,IAAAoC,EAAA;AAAAa,YAAA,CAAAb,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}