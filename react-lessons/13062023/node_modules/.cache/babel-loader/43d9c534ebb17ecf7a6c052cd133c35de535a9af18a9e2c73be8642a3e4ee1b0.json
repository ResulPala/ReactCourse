{"ast":null,"code":"import * as actionTypes from \"../actions/actionTypes\";\nimport initialState from \"./initialState\";\nexport default function cartReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.cart;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case actionTypes.ADD_TO_CART:\n      var addedItem = state.find(c => c.product.id === action.payload.product.id);\n      if (addedItem) {\n        var newState = state.map(cartItem => {\n          if (cartItem.product.id === action.payload.product.id) {\n            return Object.assign({}, addedItem, {\n              quantity: addedItem.quantity + 1\n            });\n          }\n          return cartItem;\n        });\n        return newState;\n      } else {\n        return [...state, {\n          ...action.payload\n        }];\n      }\n    case actionTypes.REMOVE_FROM_CART:\n      const newState2 = state.filter(cartItem => cartItem.product.id !== action.payload.id);\n      return newState2;\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["actionTypes","initialState","cartReducer","state","arguments","length","undefined","cart","action","type","ADD_TO_CART","addedItem","find","c","product","id","payload","newState","map","cartItem","Object","assign","quantity","REMOVE_FROM_CART","newState2","filter"],"sources":["C:/Users/RP-MSI/Documents/ReactCourse/react-lessons/13062023/src/redux/reducers/cartReducer.js"],"sourcesContent":["import * as actionTypes from \"../actions/actionTypes\"\r\nimport initialState from \"./initialState\"\r\n\r\nexport default function cartReducer(state=initialState.cart,action){\r\n    switch (action.type) {\r\n        case actionTypes.ADD_TO_CART:\r\n            var addedItem = state.find(c=>c.product.id ===action.payload.product.id);\r\n            if(addedItem){\r\n                var newState = state.map(cartItem=>{\r\n                    if(cartItem.product.id===action.payload.product.id){\r\n                        return Object.assign({},addedItem,{quantity:addedItem.quantity+1})\r\n                    }\r\n                    return cartItem;\r\n                })\r\n                return newState;\r\n            }else{\r\n                return [...state,{...action.payload}]\r\n            }\r\n        case actionTypes.REMOVE_FROM_CART:\r\n            const newState2 = state.filter(cartItem=>cartItem.product.id!==action.payload.id)\r\n            return newState2;\r\n        default:\r\n            return state;\r\n    }\r\n}"],"mappings":"AAAA,OAAO,KAAKA,WAAW,MAAM,wBAAwB;AACrD,OAAOC,YAAY,MAAM,gBAAgB;AAEzC,eAAe,SAASC,WAAWA,CAAA,EAAgC;EAAA,IAA/BC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAACH,YAAY,CAACM,IAAI;EAAA,IAACC,MAAM,GAAAJ,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAC9D,QAAQE,MAAM,CAACC,IAAI;IACf,KAAKT,WAAW,CAACU,WAAW;MACxB,IAAIC,SAAS,GAAGR,KAAK,CAACS,IAAI,CAACC,CAAC,IAAEA,CAAC,CAACC,OAAO,CAACC,EAAE,KAAIP,MAAM,CAACQ,OAAO,CAACF,OAAO,CAACC,EAAE,CAAC;MACxE,IAAGJ,SAAS,EAAC;QACT,IAAIM,QAAQ,GAAGd,KAAK,CAACe,GAAG,CAACC,QAAQ,IAAE;UAC/B,IAAGA,QAAQ,CAACL,OAAO,CAACC,EAAE,KAAGP,MAAM,CAACQ,OAAO,CAACF,OAAO,CAACC,EAAE,EAAC;YAC/C,OAAOK,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAACV,SAAS,EAAC;cAACW,QAAQ,EAACX,SAAS,CAACW,QAAQ,GAAC;YAAC,CAAC,CAAC;UACtE;UACA,OAAOH,QAAQ;QACnB,CAAC,CAAC;QACF,OAAOF,QAAQ;MACnB,CAAC,MAAI;QACD,OAAO,CAAC,GAAGd,KAAK,EAAC;UAAC,GAAGK,MAAM,CAACQ;QAAO,CAAC,CAAC;MACzC;IACJ,KAAKhB,WAAW,CAACuB,gBAAgB;MAC7B,MAAMC,SAAS,GAAGrB,KAAK,CAACsB,MAAM,CAACN,QAAQ,IAAEA,QAAQ,CAACL,OAAO,CAACC,EAAE,KAAGP,MAAM,CAACQ,OAAO,CAACD,EAAE,CAAC;MACjF,OAAOS,SAAS;IACpB;MACI,OAAOrB,KAAK;EACpB;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}